<%= form_with(model: patient, local: true, html: {class: 'well form-horizontal'}) do |form| %>
  <% if patient.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(patient.errors.count, "error") %> prohibited this patient from being saved:</h2>

      <ul>
        <% patient.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <h4 class="col-md-7 control-label">Datos Personales</h4>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Nombre(s)</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <%= form.text_field :first_name, id: :first_name, class: "form-control" %>
      </div>
      <p id="error_first_name" class="error_p"></p>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Apellido Paterno</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <%= form.text_field :last_name_father, id: :last_name_father, class: "form-control" %>
      </div>
      <p id="error_last_name_father" class="error_p"></p>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Apellido Materno</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <%= form.text_field :last_name_mother, id: :last_name_mother, class: "form-control" %>
      </div>
      <p id="error_last_name_mother" class="error_p"></p>
    </div>
  </div>

  <!-- radio checks -->
  <div class="form-group">
    <label class="col-md-4 control-label">Sexo</label>
    <div class="col-md-4">
      <%= form.select :gender, ['Masculino', 'Femenino']%>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Fecha de Nacimiento</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="fas fa-calendar-alt"></i></span>
        <%= form.date_field :birth_date, id: :birth_date, as: :date, class: "form-control" %>
      </div>
      <p id="error_birth_date" class="error_p"></p>
    </div>
  </div>

  <!-- radio checks -->
  <div class="form-group">
    <label class="col-md-4 control-label">Estado Civil</label>
    <div class="col-md-4">
      <%= form.select :civil_status, ['Soltero', 'Casado', 'Union Libre', 'Divorciado', 'Viudo']%>
    </div>
  </div>

  <!-- radio checks -->
  <div class="form-group">
    <label class="col-md-4 control-label">Ocupación</label>
    <div class="col-md-4">
      <%= form.select :occupation, ['Estudiante', 'Empleado', 'Comerciante', 'Jubilado', 'Ama de casa']%>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Teléfono</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
        <%= form.text_field :phone, id: :phone, class: "form-control" %>
      </div>
      <p id="error_phone" class="error_p"></p>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Calle</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
        <%= form.text_field :street, id: :street, class: "form-control" %>
      </div>
      <p id="error_street" class="error_p"></p>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Colonia</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
        <%= form.text_field :colony, id: :colony, class: "form-control" %>
      </div>
      <p id="error_colony" class="error_p"></p>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Codigo Postal</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
        <%= form.text_field :zip_code, id: :zip_code, class: "form-control" %>
      </div>
      <p id="error_zip_code" class="error_p"></p>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">Ciudad</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
        <%= form.text_field :city, id: :city, class: "form-control" %>
      </div>
      <p id="error_city" class="error_p"></p>
    </div>
  </div>


  <!-- Select Basic -->

  <div class="form-group">
    <label class="col-md-4 control-label">Estado</label>
    <div class="col-md-4 selectContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
        <%= form.select :state, ["Aguascalientes", "Baja California", "Baja California Sur", "Campeche", "Chihuahua",
                                 "Chiapas",
                                 "Coahuila",
                                 "Colima",
                                 "Durango",
                                 "Guanajuato",
                                 "Guerrero",
                                 "Hidalgo",
                                 "Jalisco",
                                 "Mexico",
                                 "Michoacan",
                                 "Morelos",
                                 "Nayarit",
                                 "Nuevo Leon",
                                 "Oaxaca",
                                 "Puebla","Queretaro","Quintana Roo","San Luis Potosi","Sinaloa","Sonora","Tabasco",
                                 "Tamaulipas","Tlaxcala","Veracruz","Yucatan","Zacatecas"], {}, class: "form-control selectpicker" %>
                               <p id="error_patient_state" class="error_p">
      </div>
    </div>
  </div>

  <!-- Text input-->

  <div class="form-group">
    <label class="col-md-4 control-label">(Opcional) RFC</label>
    <div class="col-md-4 inputGroupContainer">
      <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-id-card"></i></span>
        <%= form.text_field :rfc, id: :rfc, class: "form-control" %>
      </div>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label">Como se enteró de nosotros?</label>
    <div class="col-md-4">
      <%= form.select :heard_about_us, ['Facebook', 'Doctoralia', 'Sitio Web', 'Recomendación', 'Otro']%>
    </div>
  </div>

  <% if current_user.doctor %>
    <%= form.fields_for :checkup_attributes, patient.checkup do |builder| %>
      <div class="form-group">
        <h4 class="col-md-7 control-label">Antecedentes familiares</h4>
      </div>
      <div class="form-group">
        <label class="col-md-4 control-label">Diabetes en la familia</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :family_diabetes, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Cancer en la familia</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :family_cancer, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Hipertension en la familia</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :family_hipertension, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <h4 class="col-md-7 control-label">Antecedentes personales patológicos</h4>
      </div>
      <div class="form-group">
        <label class="col-md-4 control-label">Diabetes</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :personal_diabetes, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Cancer</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :personal_cancer, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Hipertensión</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :personal_hipertension, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Alergias</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :allergies,[["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Cirugías</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :surgeries, [["Si",true], ["No", false]] %>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Hipertension en la familia</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.select :family_hipertension, [["Si",true], ["No", false]]%>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>
      <div class="form-group">
        <h4 class="col-md-7 control-label">Interrogatorio y exploración dermatológica</h4>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label">Comentarios</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <%= builder.text_field :results, id: :results, class: "form-control" %>
          </div>
          <p id="error_first_name" class="error_p"></p>
        </div>
      </div>
      <%= builder.hidden_field :id %>
    <% end %>
  <% end %>

  <!-- Text area -->
  <!-- Success message -->
  <div class="alert alert-success" role="alert" id="success_message">Exito
    <i class="glyphicon glyphicon-thumbs-up"></i>Has sido registrado exitosamente.
  </div>

  <!-- Error message -->
  <div class="alert alert-danger" role="alert" id="error_message">Error
    <i class="glyphicon glyphicon-thumbs-down"></i> Hay un error en el
    registro.
  </div>

  <div class="actions center">
    <%= form.submit 'Actualizar paciente', class: 'btn btn-success' %>
  </div>
<% end %>
